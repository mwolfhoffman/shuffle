webpackJsonp([1,2],{100:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(7),n=s.n(a),r=s(4),o=(s.n(r),s(166)),i=s.n(o);t.default={name:"create",data:function(){return{teamName:"",teamDescription:"",newMember:"",members:[]}},methods:n()({},s.i(r.mapActions)("teamStore",["createTeam"]),{addMemberToArray:function(){this.members.push({name:this.newMember,active:!0,isOnTeam:!0,memberId:i()()}),this.newMember=""},removeMember:function(e){this.members.splice(e,1)},submitTeam:function(){this.createTeam({name:this.teamName,description:this.teamDescription,members:this.members}),this.teamName="",this.teamDescription="",this.members=[]},verifyUser:function(){return!!this.$root.$store.state.authStore.user.name}}),mounted:function(){console.log(this.verifyUser())}}},101:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(7),n=s.n(a),r=s(4);s.n(r);t.default={name:"dashboard",data:function(){return{showDelete:!1}},computed:n()({},s.i(r.mapState)("authStore",["user"]),s.i(r.mapState)(["myTeams"]),{user:function(){return this.user},teamArr:function(){return this.myTeams},checkLogin:function(){!!this.currentUser}}),methods:n()({},s.i(r.mapActions)(["getTheTeams"]),{getUserTeams:function(){this.getTheTeams()},verifyUser:function(){return!!this.$root.$store.state.authStore.user.name}}),watch:{currentUser:function(){console.log("current user ===>",this.currentUser),this.getUserTeams(this.currentUser),console.log(this.teamArr)}},mounted:function(){this.getUserTeams(this.currentUser),console.log(this.verifyUser())}}},102:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(7),n=s.n(a),r=s(15),o=(s.n(r),s(4));s.n(o);t.default={name:"login",data:function(){return{email:"",password:"",createAccount:!1,firstName:"",lastName:"",newEmail:"",newPassword:""}},methods:n()({},s.i(o.mapActions)("authStore",["createNewAccount","login","logout","authenticate"]),{loginUser:function(){console.log("at least the method is working"),this.login({email:this.email,password:this.password}),this.email="",this.password=""},createUser:function(){console.log("creating user");var e={name:this.firstName+" "+this.lastName,email:this.newEmail,password:this.newPassword};console.log("new user ",e),this.createNewAccount(e),this.firstName="",this.lastName="",this.newEmail="",this.newPassword=""},logout:function(){this.logout()},authenticateUser:function(){this.authenticate()}}),computed:{verifyUser:function(){return!!this.$root.$store.state.authStore.user.name}},mounted:function(){console.log(this.verifyUser)}}},103:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(110),n=s.n(a),r=s(7),o=s.n(r),i=s(4),c=(s.n(i),s(160)),m=s.n(c),u=s(173),l=s.n(u);t.default={name:"team",components:{Member:l.a},data:function(){return{showDelete:!1,num:"",results:[],activeMembers:[]}},methods:o()({},s.i(i.mapActions)("teamStore",["getThisTeam","removeTeam"]),{getTeam:function(){this.getThisTeam(this.$route.params.id)},createGroup:function(){var e=this;this.activeMembers=[],this.members.forEach(function(t){1==t.active&&e.activeMembers.push(t)}),console.log("active members array ",this.activeMembers);var t=m.a.shuffle(this.activeMembers);this.results=m.a.chunk(t,this.num),this.results[this.results.length-2].length!=this.results[this.results.length-1].length&&(this.results[this.results.length-1].forEach(function(t,s){e.results[s].push(t)}),this.results.splice(this.results.length-1,1),console.log(this.results)),this.num=""},removeFromTeam:function(){console.log("its going to delete ",this.currentTeam._id,"the type of the id is ",n()(this.currentTeam._id)),this.removeTeam({teamId:this.currentTeam._id})}}),computed:o()({},s.i(i.mapState)("teamStore",["currentTeam"]),{team:function(){return this.currentTeam},members:function(){if(this.team.members)return this.team.members}}),mounted:function(){this.getTeam(),console.log("The members   ",this.team.members),console.log("The ACTIVE members   ",this.team.members)}}},104:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(7),n=s.n(a),r=s(4);s.n(r);t.default={name:"member",props:["member"],data:function(){return{menu:!1,isActive:!0,isDeleted:!1}},methods:n()({},s.i(r.mapActions)("teamStore",["removeTeamMember"]),{removeFromTeam:function(){var e=this,t=this.$parent.members.filter(function(t){return t.memberId!=e.member.memberId});console.log("Updated team?    =>  ",t),this.removeTeamMember({teamId:this.$route.params.id,members:t}),this.isDeleted=!this.isDeleted,this.member.active=!1,console.log(this.member.active),this.menu=!this.menu},toggleActive:function(e){var t=this;this.isActive=!this.isActive,this.$parent.members.map(function(e){t.member.memberId===e.memberId&&(e.active=t.isActive)}),console.log(this.$parent.members),this.menu=!this.menu}})}},105:function(e,t,s){"use strict";var a=s(15),n=(s.n(a),s(18)),r=s.n(n),o=(s(27),s(19)),i=r.a.create({baseURL:"https://shuffle-app-1.herokuapp.com/api/",timeout:2e3,withCredentials:!0});t.a={name:"authStore",namespaced:!0,state:{user:{}},getters:{getUser:function(){return this.user}},mutations:{forcedMutationLogin:function(e,t){e.user=t,console.log("state.user ",e.user)},createNewUser:function(e,t){e.user=t,console.log("New User Has Been Created!",e.user),Materialize.toast("Your Account Was Created! Welcome To Shuffle",2e3),o.a.push("/dashboard")},setUser:function(e,t){e.user=t.data,console.log("user has been set! you are logged in  ",e.user),console.log("This is the THIS  ",o.a),o.a.push("/dashboard")},logoutUser:function(e){e.user={},console.log("user is logged out",e.user)}},actions:{createNewAccount:function(e,t){var s=e.commit;r.a.post("https://shuffle-app-1.herokuapp.com/register",t).then(function(e){if(e.data.error){if(console.log("ERROR  ",e.data.error),e.data.error.code=11e3)return void Materialize.toast("This email address is already associated with an account.",5e3)}else console.log("creating new user",e.data),s("createNewUser",t)}).catch(function(e){return console.log(e)})},login:function(e,t){var s=e.commit;i.post("https://shuffle-app-1.herokuapp.com/login",{email:t.email,password:t.password}).then(function(e){return console.log("almost logged in! calling mutation",e.data),e.data.error?void Materialize.toast(e.data.error,4e3):void s("setUser",e.data)}).catch(function(e){return console.log("ERROR: "+error)})},logout:function(e){var t=e.commit;r.a.delete("https://shuffle-app-1.herokuapp.com/logout").then(function(e){console.log("calling mutation to end session ",e.data),t("logoutUser")})},authenticate:function(e,t){e.commit;i.get("https://shuffle-app-1.herokuapp.com/authenticate").then(function(e){console.log("User Authentication ",e.data.data)}).catch(function(e){return console.log(e)})}}}},106:function(e,t,s){"use strict";var a=s(15),n=(s.n(a),s(18)),r=s.n(n),o=s(27),i=s(19),c=r.a.create({baseURL:"https://shuffle-app-1.herokuapp.com/api/",timeout:2e3,withCredentials:!0});t.a={name:"teamStore",namespaced:!0,state:{currentTeam:{}},getters:{},mutations:{setTeam:function(e,t){console.log("new team should go to main sthore",o.a),e.currentTeam=t.data,console.log("you just set a new team!",e.currentTeam)},setDeletedTeamState:function(e){e.currentTeam={},i.a.push("/dashboard")},updateTeam:function(e,t){e.currentTeam=t,Materialize.toast("Team Member Was Successfully Deleted")}},actions:{createTeam:function(e,t){e.commit;c.post("teams",t).then(function(e){console.log("create team... ... ",e.data),Materialize.toast("Team Was Successfully Created",4e3),console.log("should have toasted"),i.a.push("/dashboard")}).catch(function(e){return console.log(e)})},getThisTeam:function(e,t){var s=e.commit;c.get("teams/"+t).then(function(e){s("setTeam",e.data)}).catch(console.log)},removeTeamMember:function(e,t){e.commit;c.put("teams/"+t.teamId,{members:t.members}).then(function(e){console.log("is this the team?   ",e.data),Materialize.toast("Team Member Was Successfully Deleted",4e3)})},removeTeam:function(e,t){var s=e.commit;console.log("hitting the actions    ",t),c.delete("teams/"+t.teamId).then(function(e){s("setDeletedTeamState",e),Materialize.toast("This team was deleted!  ",4e3),console.log("deleted! ",e)})}}}},152:function(e,t){},153:function(e,t){},154:function(e,t){},155:function(e,t){},156:function(e,t){},157:function(e,t){},169:function(e,t,s){s(156);var a=s(14)(s(100),s(178),null,null);e.exports=a.exports},170:function(e,t,s){s(153);var a=s(14)(s(101),s(175),null,null);e.exports=a.exports},171:function(e,t,s){s(152);var a=s(14)(s(102),s(174),"data-v-0e596401",null);e.exports=a.exports},172:function(e,t,s){s(154);var a=s(14)(s(103),s(176),null,null);e.exports=a.exports},173:function(e,t,s){s(157);var a=s(14)(s(104),s(179),null,null);e.exports=a.exports},174:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("p",{directives:[{name:"show",rawName:"v-show",value:e.verifyUser,expression:"verifyUser"}]},[e._v("You are already logged in ")]),s("div",{staticClass:"login"},[e.createAccount?e._e():s("div",{staticClass:"container"},[s("div",{staticClass:"card card-container"},[s("center",[s("h5",[e._v("Please Log In "),s("br")])]),s("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}}),s("p",{staticClass:"profile-name-card",attrs:{id:"profile-name"}}),s("form",{staticClass:"form-signin",on:{submit:function(t){t.preventDefault(),e.loginUser(t)}}},[s("span",{staticClass:"reauth-email",attrs:{id:"reauth-email"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{id:"inputEmail",type:"email",placeholder:"Email address",required:"",autofocus:""},domProps:{value:e._s(e.email)},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{id:"inputPassword",type:"password",placeholder:"Password",required:""},domProps:{value:e._s(e.password)},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("button",{staticClass:"btn btn-lg btn-primary btn-block btn-signin",attrs:{type:"submit"}},[e._v("Sign in")])]),s("a",{staticClass:"create-account",on:{click:function(t){e.createAccount=!e.createAccount}}},[e._v("Create New Account")])],1)]),e.createAccount?s("div",{staticClass:"container"},[s("div",{staticClass:"card card-container"},[s("center",[s("h4",[e._v("Create Account")])]),s("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}}),s("p",{staticClass:"profile-name-card",attrs:{id:"profile-name"}}),s("form",{staticClass:"form-signin",on:{submit:function(t){t.preventDefault(),e.createUser(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],staticClass:"form-control",attrs:{id:"inputEmail",type:"text",placeholder:"First Name",autofocus:"",required:""},domProps:{value:e._s(e.firstName)},on:{input:function(t){t.target.composing||(e.firstName=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],staticClass:"form-control",attrs:{id:"inputEmail",type:"text",placeholder:"Last Name",autofocus:"",required:""},domProps:{value:e._s(e.lastName)},on:{input:function(t){t.target.composing||(e.lastName=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmail,expression:"newEmail"}],staticClass:"form-control",attrs:{id:"inputEmail",type:"email",placeholder:"Email address",autofocus:"",required:""},domProps:{value:e._s(e.newEmail)},on:{input:function(t){t.target.composing||(e.newEmail=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{id:"inputPassword",type:"password",placeholder:"Password",required:""},domProps:{value:e._s(e.newPassword)},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}}),s("button",{staticClass:"btn btn-lg btn-primary btn-block btn-signin",attrs:{type:"submit"}},[e._v("Create Account")])]),s("a",{staticClass:"create-account",on:{click:function(t){e.createAccount=!e.createAccount}}},[e._v("I already have a login")])],1)]):e._e()])])},staticRenderFns:[]}},175:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h4",[e._v("Dashboard")]),e._v(" "),s("div",{staticClass:"card-container"},e._l(e.teamArr,function(t){return s("div",{staticClass:"well"},[s("router-link",{attrs:{to:"/team/"+t._id}},[e._v(e._s(t.name)+" "),s("br")]),e._v(" "),s("p",{on:{click:function(t){e.showDelete=!e.showDelete}}},[e._v(e._s(t.description))])],1)}))])},staticRenderFns:[]}},176:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"container"},[s("div",{staticClass:"row team-title"},[s("div",{staticClass:"col s12"},[s("h4",{attrs:{col:"",s12:""},on:{click:function(t){e.showDelete=!e.showDelete}}},[e._v(e._s(e.team.name))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showDelete,expression:"showDelete"}],attrs:{col:"",s12:""},on:{click:e.removeFromTeam}},[s("i",{staticClass:"material-icons"},[e._v("delete_forever")])]),e._v(" "),s("p",{attrs:{col:"",s12:""}},[e._v(" "+e._s(e.team.description))]),e._v(" "),e.members?s("p",[e._v("Team Members: "+e._s(e.members.length))]):e._e()])])]),e._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"row team-title"},[s("div",{staticClass:"col s6 offset-s3"},[s("form",{on:{submit:function(t){t.preventDefault(),e.createGroup(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.num,expression:"num"}],staticClass:"input-class center-align",attrs:{type:"text",placeholder:"Enter Size of Group.",required:""},domProps:{value:e._s(e.num)},on:{input:function(t){t.target.composing||(e.num=t.target.value)}}})])])])]),e._v(" "),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s2 member-class"},e._l(e.members,function(e){return s("member",{attrs:{member:e}})})),e._v(" "),s("div",{staticClass:"col s10"},[s("div",{staticClass:"row"},e._l(e.results,function(t){return e.results.length>0?s("div",{staticClass:"group-container col s6",attrs:{div:""}},e._l(t,function(t){return s("div",{staticClass:"group"},[s("h5",[e._v(e._s(t.name))])])})):e._e()}))])])])])},staticRenderFns:[]}},177:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("center",[s("nav",{staticClass:"navbar navbar-default "},[s("div",{staticClass:"container"},[s("div",{staticClass:"flex-container"},[s("router-link",{attrs:{to:"/"}},[s("h4",[s("b",[s("em",[e._v("Shuffle")])])])]),e._v(" "),s("router-link",{directives:[{name:"show",rawName:"v-show",value:e.verifyUser,expression:"verifyUser"}],attrs:{to:"/dashboard"}},[e._v("Dashboard")]),e._v(" "),s("router-link",{directives:[{name:"show",rawName:"v-show",value:e.verifyUser,expression:"verifyUser"}],attrs:{to:"/create"}},[e._v("Create Team")]),e._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:e.verifyUser,expression:"verifyUser"}],attrs:{href:"/"},on:{click:e.logoutUser}},[e._v("Logout")])],1)])]),e._v(" "),s("router-view")],1)],1)},staticRenderFns:[]}},178:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("center",[s("h3",[e._v("Create  a Team")]),s("form",{attrs:{id:"msform"},on:{submit:function(t){t.preventDefault(),e.submitTeam(t)}}},[s("fieldset",[s("h2",{staticClass:"fs-title"},[e._v("Create New Team")]),s("h3",{staticClass:"fs-subtitle"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.teamName,expression:"teamName"}],attrs:{type:"text",name:"email",placeholder:"Team Name"},domProps:{value:e._s(e.teamName)},on:{input:function(t){t.target.composing||(e.teamName=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.teamDescription,expression:"teamDescription"}],attrs:{type:"text",name:"pass",placeholder:"Team Description"},domProps:{value:e._s(e.teamDescription)},on:{input:function(t){t.target.composing||(e.teamDescription=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newMember,expression:"newMember"}],attrs:{type:"text",name:"cpass",placeholder:"Member"},domProps:{value:e._s(e.newMember)},on:{input:function(t){t.target.composing||(e.newMember=t.target.value)}}}),s("button",{staticClass:"next action-button",attrs:{type:"button"},on:{click:e.addMemberToArray}},[e._v(" Add Member To Team")]),s("button",{staticClass:"next action-button",attrs:{type:"submit"}},[e._v(" Create Team")])])]),e.members.length>0?s("div",[s("h4",[e._v("New Members")]),s("p",[e._v("You new team has "),s("b",[e._v(e._s(e.members.length))]),e._v(" members")]),e._l(e.members,function(t,a){return s("ul",[s("li",{on:{click:function(t){e.removeMember(a)}}},[e._v(e._s(t.name))])])})],2):e._e()])],1)},staticRenderFns:[]}},179:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h5",{class:{active:e.isActive,inactive:!e.isActive,removed:e.isDeleted},on:{click:function(t){e.menu=!e.menu}}},[e._v(e._s(e.member.name))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.menu,expression:"menu==true"}]},[s("button",{directives:[{name:"show",rawName:"v-show",value:1==e.isActive,expression:"isActive==true"}],staticClass:"btn",attrs:{type:"button"},on:{click:function(t){e.toggleActive(e.member.id)}}},[e._v("Inactive")]),e._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:0==e.isActive,expression:"isActive==false"}],staticClass:"btn",attrs:{type:"button"},on:{click:function(t){e.toggleActive(e.member.id)}}},[e._v("Active")]),e._v(" "),s("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.removeFromTeam}},[e._v("Remove")])])])},staticRenderFns:[]}},184:function(e,t){},185:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(15),n=s.n(a),r=s(79),o=s.n(r),i=s(4),c=s.n(i),m=s(27),u=s(78),l=s.n(u),d=s(19),h=s(77),p=s.n(h),v=s(18),f=s.n(v),g=(f.a.create({baseURL:"https://shuffle-app-1.herokuapp.com/api/",timeout:2e3,withCredentials:!0}),p()("https://shuffle-app-1.herokuapp.com/"));g.on("CONNECTED",function(e){console.log(e)}),n.a.use(o.a),n.a.use(c.a);var b=new c.a.Store(m.a);new n.a({el:"#app",store:b,router:d.a,template:"<App/>",components:{App:l.a}})},19:function(e,t,s){"use strict";var a=s(15),n=s.n(a),r=s(180),o=s.n(r),i=s(170),c=s.n(i),m=s(169),u=s.n(m),l=s(171),d=s.n(l),h=s(172),p=s.n(h);n.a.use(o.a),t.a=new o.a({routes:[{path:"/",name:"Login",component:d.a},{path:"/dashboard",name:"Dashboard",component:c.a},{path:"/create",name:"Create",component:u.a},{path:"/team/:id",name:"Team",component:p.a}]})},27:function(e,t,s){"use strict";var a=s(18),n=s.n(a),r=s(105),o=s(106),i=n.a.create({baseURL:"https://shuffle-app-1.herokuapp.com/api/",timeout:2e5,withCredentials:!0});t.a={modules:{authStore:r.a,teamStore:o.a},state:{user:{},myTeams:[]},getters:{getMyTeams:function(e){return e.myTeams}},mutations:{setMyTeams:function(e,t){e.myTeams=t,console.log("teams were set in store ...   ",e.myTeams)}},actions:{getTheTeams:function(e){var t=e.commit;i.get("teams").then(function(e){var s=e.data.data.filter(function(e,t){return e.creatorId===r.a.state.user._id});t("setMyTeams",s)}).catch(function(e){return console.log(e)})}}}},78:function(e,t,s){s(155);var a=s(14)(s(99),s(177),null,null);e.exports=a.exports},99:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(7),n=s.n(a),r=s(4);s.n(r),s(19);t.default={name:"app",methods:n()({},s.i(r.mapActions)("authStore",["logout"]),{logoutUser:function(){this.logout()}}),mounted:function(){this.verifyUser},computed:{verifyUser:function(){return!!this.$root.$store.state.authStore.user.name}}}}},[185]);
//# sourceMappingURL=app.8745d080a1e0d66e4a29.js.map